"DOTAAbilities"
{
	"Version"   "1"
	
	"enchanting_leer"
	{
		"BaseClass"                 "ability_datadriven"
		"AbilityType"         "DOTA_ABILITY_TYPE_BASIC"
		"AbilityTextureName"      "naga_siren_song_of_the_siren"
		"AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL | DOTA_ABILITY_BEHAVIOR_DONT_CANCEL_MOVEMENT"
		"AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCooldown"       "11.0 10.0 9.0 8.0"
		"AbilityManaCost"       "100"
		"AbilityCastRange"        "700"
		"AbilityCastPoint"        "0.3"
		"AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_4"
		"MaxLevel"            "4"

		"precache"
		{
			"soundfile"     "soundevents/game_sounds_heroes/game_sounds_axe.vsndevts"
			"particle"      "particles/units/heroes/hero_axe/axe_beserkers_call_owner.vpcf"
			"particle"      "particles/status_fx/status_effect_beserkers_call.vpcf"
		}

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"slow"				"25"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"slow_duration"	"4"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"taunt_width"		"85"
			}
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"taunt_duration"	"1.2 1.8 2.2 2.6"
			}
			"05"
			{
				"var_type"			"FIELD_INTEGER"
				"taunt_range"		"700"
			}
		}

		"OnSpellStart"
		{
			"FireSound"
			{
			"EffectName"  "Hero_Axe.Berserkers_Call"
			"Target"    "CASTER"
			}

			"ActOnTargets"
			{
				"Target"
				{
					"Center"    "CASTER"
					"Radius"  "%taunt_range"
					"Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
					"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES | DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
				}

				"Action"    
				{
					"ApplyModifier"
					{
						"ModifierName"  "modifier_enchanting_target"
						"Target"    "TARGET"
						"Duration"    "%taunt_duration"
					}
				}
			}
		}

		"Modifiers"
		{
			"modifier_enchanting_caster"
			{
				"IsPurgable"	"0"
				"IsBuff"			"1"

				"OnCreated"
				{
					"AttachEffect"
					{
						"Target"      "CASTER"
						"EffectName"        "particles/units/heroes/hero_axe/axe_beserkers_call_owner.vpcf"
						"EffectAttachType"  "follow_origin"

						"ControlPoints"
						{
							"02"    "%radius 1 1"
						}

						"ControlPointEntities"
						{
							"CASTER"  "follow_origin"
							"CASTER"  "follow_origin"
							"CASTER"  "follow_origin"
						}
					}
				}
			}

			"modifier_enchanting_target"
			{
				"IsPurgable"    "0"
				"IsDebuff"      "1"

				"StatusEffectName"    "particles/status_fx/status_effect_beserkers_call.vpcf"      
				"StatusEffectPriority"  "10"

				"ThinkInterval"  "0.1"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"  "heroes/gywn.lua"
						"Function"    "Taunt"
						"modifier"    "modifier_enchanting_slow"
					}
				}

				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"  "heroes/gywn.lua"
						"Function"    "TauntEnd"
					}
				}
			}

			"modifier_enchanting_slow"
			{
				"IsPurgable"    "0"
				"IsDebuff"      "1"
				"Duration"      "%slow_duration"

				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%slow" 
					"MODIFIER_PROPERTY_TURN_RATE_PERCENTAGE"  "%slow"
				}
			}
		}
	}

	//TO DO: need to add text dmg for hp%
	//       make mirrors only take damage from right clicks
	//       create mirror model
	//       make pulse particle
	//		  make mirror death particle
	//		  check if scepter upgrade is actually implemented
	//
	//  SCEPTER UPGRADE
	//  - increases pulse radius, faster pulse interval, and lowers cooldown.
	"mirror_hall"
	{
		"BaseClass"                 "ability_datadriven"
		"AbilityTextureName"      "naga_siren_mirror_image"
		"AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
		"AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
		"SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
		"AbilityCooldown"       "20"
		"AbilityManaCost"       "150"
		"AbilityCastRange"        "450"
		"AbilityCastPoint"        "0.6"
		"HasScepterUpgrade"       "1"
		"MaxLevel"            "3"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"max_mirrors"		"2 3 4"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"mirror_health"	"200"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"health_pct"		"10"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"scepter_health_pct" "15"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"scepter_break_duration" "5.0 6.0 7.0"
			}
		}

		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"  "heroes/gywn.lua"
				"Function"    "CreateMirror"
				"Target"    "POINT"
			}
		}
	}

	"mirror_pulse"
	{
		"BaseClass"                 "ability_datadriven"
		"AbilityTextureName"      "leshrac_pulse_nova"
		"AbilityType"					"DOTA_ABILITY_TYPE_BASIC"
		"AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
		"AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
		"HasScepterUpgrade"       "1"
		"MaxLevel"            "3"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"pulse_interval"	"4.0"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"pulse_radius"		"300"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"pulse_slow"		"-30 -40 -50"
			}
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"slow_duration"	"2.0"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"illusion_duration" "4 6 8"
			}
			"06"
			{
				"var_type"			"FIELD_INTEGER"
				"illusion_outgoing" "-50 -40 -25"
			}
			"07"
			{
				"var_type"			"FIELD_INTEGER"
				"illusion_incoming" "150"
			}
			"08"
			{
				"var_type"			"FIELD_INTEGER"
				"health_pct"		"10"
			}
			"09"
			{
				"var_type"			"FIELD_INTEGER"
				"scepter_health_pct"	"15"
			}
			"10"
			{
				"var_type"			"FIELD_FLOAT"
				"scepter_break_duration" "5.0 6.0 7.0"
			}
			"11"
			{
				"var_type"			"FIELD_INTEGER"
				"pulse_slow_tooltip"	"30 40 50"
			}
			"12"
			{
				"var_type"			"FIELD_INTEGER"
				"pulse_slow_attack_tooltip" "30 40 50"
			}
			"13"
			{
				"var_type"			"FIELD_INTEGER"
				"illusion_outgoing_tooltip" "50 60 75"
			}
		}

		"OnOwnerDied"
		{
			"RunScript"
			{
				"ScriptFile"  "heroes/gywn.lua"
				"Function"    "DeathDamage"         
				"modifier"    "modifier_mirror_break"
			}

			"RunScript"
			{
				"ScriptFile"  "heroes/gywn.lua"
				"Function"    "RemoveMirror"
			}
		}

		"Modifiers"
		{
			"modifier_mirror_damage_thinker"
			{
				"Passive"     "1"
				"IsHidden"      "1"

				"OnTakeDamage"
				// "%attack_damage" is set to the damage value after mitigation
				{
					"RunScript"
					{
						"ScriptFile"  "heroes/gywn.lua"
						"Function"    "RecordLastHit"
					}
				}
			}

			"modifier_mirror_break"
			{
				"IsDebuff"      "1"

				"States"
				{
					"MODIFIER_STATE_PASSIVES_DISABLED"    "MODIFIER_STATE_VALUE_ENABLED"
				}
			}

			"modifier_mirror_thinker"
			{
				"Passive"     "1"
				"IsHidden"      "1"

				"ThinkInterval"  "%pulse_interval"
				"OnIntervalThink"
				{
					"ActOnTargets"
					{
						"Target"
						{
							"Center"    "CASTER"
							"Radius"  "%pulse_radius"
							"Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types"   "DOTA_UNIT_TARGET_HERO"
						}

						"Action"    
						{
//							"FireEffect" //idk what i want to do for this
//							{
//								"EffectName"        ""
//								"EffectAttachType"  "follow_origin"
//								"Target"            "TARGET"
//							}

							"RunScript"
							{
								"ScriptFile"  "heroes/gywn.lua"
								"Function"    "MirrorPulse"
							}

							"ApplyModifier"
							{
								"ModifierName"  "modifier_mirror_slow"
								"Target"    "TARGET"
								"Duration"    "%slow_duration"
							}
						}
					}
				}
			}

			"modifier_mirror_slow"
			{
				"IsDebuff"      "1"

				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%pulse_slow"
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%pulse_slow" 
				}
			}
		}
	}

	// TO DO: check if length tooltip is accurate
	"reflecting_pool"
	{
		"BaseClass"            "ability_datadriven"
		"AbilityTextureName"   "kunkka_torrent"
		"SpellImmunityType"    "SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityType"				"DOTA_ABILITY_TYPE_BASIC"
		"AbilityBehavior"        "DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitTargetTeam"  "DOTA_UNIT_TARGET_TEAM_FRIENDLY | DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"  "DOTA_UNIT_TARGET_HERO"
		"AbilityUnitDamageType"  "DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"   "ACT_DOTA_CAST_ABILITY_1"
		"AbilityCastRange"     "700"
		"AbilityCastPoint"     "0.3"
		"AbilityCooldown"      "20.0"
		"AbilityManaCost"      "75 90 105 120"

		"precache"
		{
			"soundfile"           "soundevents/game_sounds_heroes/game_sounds_morphling.vsndevts"
			"soundfile"           "soundevents/game_sounds_heroes/game_sounds_kunkka.vsndevts"
			"particle"            "particles/units/heroes/hero_kunkka/kunkka_spell_torrent_bubbles.vpcf"
			"particle"            "particles/units/heroes/hero_kunkka/kunkka_spell_torrent_splash.vpcf"
		}

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"reflect"			"85 100 125 140"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"duration"			"7.0"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"width"				"275"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"length"				"700"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT" // damage per interval think (0.5)
				"damage"				"12.5 19.0 20.0 25.0"
			}
			"06"
			{
				"var_type"			"FIELD_INTEGER" // damage per second (1.0)
				"damage_tooltip"	"25 38 40 50" //damage_tooltip x duration(7 sec) = total possible damage (175 266 280 350)
			}
		}

		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"  "heroes/gywn.lua"
				"Function"    "CreatePool"
				"Target"      "POINT"
				"modifier"    "modifier_reflection_allies_aura"
				"modifierb"   "modifier_reflection_enemies_aura"
				"particle"    "particles/units/heroes/hero_kunkka/kunkka_spell_torrent_bubbles.vpcf"
			}
		}

		"Modifiers"
		{
			"modifier_reflection_allies_aura"
			{
				"IsHidden"      "1"

				"Aura"            "modifier_reflection_allies"
				"Aura_Radius"     "%width"
				"Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types"      "DOTA_UNIT_TARGET_HERO"
				"Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_NONE"
				"Aura_ApplyToCaster" "1"
			}

			"modifier_reflection_allies"
			{
				"IsHidden"      "0"

				"OnTakeDamage"
				{
					"RunScript"
					{
						"ScriptFile"      "heroes/gywn.lua"
						"Function"        "ReflectDamage"
						"attack_damage"   "%attack_damage"
					}
					//need particles and shit for this, think dispersion
				}
			}

			"modifier_reflection_enemies_aura"
			{
				"IsHidden"      "1"

				"Aura"            "modifier_reflection_enemies"
				"Aura_Radius"     "%width"
				"Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_ENEMY"
				"Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				"Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_NOT_NIGHTMARED | DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
				"Aura_ApplyToCaster" "0"
			}

			"modifier_reflection_enemies"
			{
				"IsDebuff"      "1"

				"Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE"

				"ThinkInterval"  "0.5"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Target"    "TARGET"
						"Type"      "DAMAGE_TYPE_MAGICAL"
						"Damage"    "%damage"
					}
				}
			}

			"modifier_reflection_states"
			{
				"IsHidden"    "1"

				"States"
				{
					"MODIFIER_STATE_COMMAND_RESTRICTED" "MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"      "MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_OUT_OF_GAME"        "MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"       "MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_INVULNERABLE"       "MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"      "MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"     "MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}

	"vanity"
	{
		"BaseClass"           "ability_datadriven"
		"AbilityTextureName"      "morphling_waveform"
		"AbilityType"					"DOTA_ABILITY_TYPE_BASIC"
		"AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityCastRange"        "%radius" //used as a tooltip for aura radius
		"MaxLevel"            "4"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"armor"				"1.0 2.0 3.0 4.0"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"magic_resist"		"3.0 5.0 7.0 10.0"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"health_regen"		"1.0 1.5 2.0 3.0"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"				"1000"
			}
			"05"
			{
				"var_type"			"FIELD_INTEGER"
				"vision_cone"		"85"  //85 degree cone
			}
		}

		"OnUpgrade"
		{
			"RunScript"
			{
				"ScriptFile"  "heroes/gywn.lua"
				"Function"    "InitializeTable"
				"modifier"    "modifier_vanity_bonuses"
			}

			"ApplyModifier"
			{
				"ModifierName"  "modifier_vanity_refresher"
				"Target"    "CASTER"
			}
		}

//		"OnRespawn"
//		{
//			"RunScript"
//			{
//				"ScriptFile"  "heroes/gywn.lua"
//				"Function"    "InitializeTable"
//			}
//		}

		"Modifiers"
		{
			"modifier_vanity_thinker"
			{
				"Passive"     "1"
				"IsHidden"      "1"

				"ThinkInterval"  "0.1"
				"OnIntervalThink"
				{
					"ActOnTargets"
					{
						"Target"
						{
							"Center"    "CASTER"
							"Radius"  "%radius"
							"Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
							"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES | DOTA_UNIT_TARGET_FLAG_OUT_OF_WORLD | DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
						}

						"Action"
						{
							"RunScript"
							{
								"ScriptFile"    "heroes/gywn.lua"
								"Function"      "Vanity"
								"modifier"      "modifier_vanity_bonuses"
							}
						}
					}
				}
			}

			//this is a temp fix for table issues
			"modifier_vanity_refresher"
			{
				"IsHidden"      "1"

				"ThinkInterval"  "0.3"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"  "heroes/gywn.lua"
						"Function"    "InitializeTable"
						"modifier"    "modifier_vanity_bonuses"
					}
				}
			}

			"modifier_vanity_bonuses"
			{
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"   "%armor"
					"MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS" "%magic_resist" 
					"MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"  "%health_regen"
				}
			}
		}
	}

	"void_curse"
	{
		"BaseClass"                 "ability_datadriven"
		"AbilityTextureName"      "night_stalker_void"
		"AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"

		"AbilityCooldown"       "30 28 26 24"
		"AbilityManaCost"       "100 150 200 250"
		"AbilityCastRange"        "600"
		"AbilityCastPoint"        "0.3"
		"AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_1"

		"MaxLevel"            "4"

		"precache"
		{
			"soundfile"   "soundevents/game_sounds_heroes/game_sounds_silencer.vsndevts"    
			"particle"    "particles/units/heroes/hero_silencer/silencer_last_word.vpcf"
			"particle"    "particles/units/heroes/hero_silencer/silencer_last_word_status.vpcf"
		}

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"duration"			"4.0 6.0 8.0 10.0"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"tick_rate"			"2.0"
			}			
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"damage"			"10 15 20 25"
			}			
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"armor_loss"		"-0.5"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"resist_loss"		"-2.0"
			}
		}

		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"  "Hero_Silencer.LastWord.Cast"
				"Target"    "TARGET"
			}

			"RunScript"
			{
				"ScriptFile"	"heroes/enigma.lua"
				"Function"		"GalaxyManaCostReduction"
			}

			"RunScript"
			{
				"ScriptFile"  "heroes/enigma.lua"
				"Function"    "VoidCurse"
				"Target"    "TARGET"
				"modifier"    "modifier_void_curse_tick"
			}
		}

		"Modifiers"
		{
			"modifier_void_curse_tick"
			{
				"IsPurgable"    "1"
				"IsHidden"      "0"
				"Attributes"		"MODIFIER_ATTRIBUTE_MULTIPLE"

				"EffectName"    "particles/units/heroes/hero_silencer/silencer_last_word_status.vpcf"
				"EffectAttachType"  "follow_origin"

				"ThinkInterval"  "%tick_rate"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"  "heroes/enigma.lua"
						"Function"    "VoidCurseTick"
						"Target"    "TARGET"
						"modifier"    "modifier_void_curse_debuff"
					}
				}

				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"  "heroes/enigma.lua"
						"Function"    "VoidCurseTick"
						"Target"    "TARGET"
						"modifier"    "modifier_void_curse_debuff"
					}
				}

				//remove armor debuff after a short delay of ability expiring
				"OnDestroy"
				{
					"RemoveModifier"
					{
						"ModifierName"  "modifier_void_curse_debuff"
						"Target"    "TARGET"
					}

					"RemoveModifier"
					{
						"ModifierName"  "modifier_void_curse_talent_debuff"
						"Target"    "TARGET"
					}
				}
			}

			"modifier_void_curse_debuff"
			{
				"IsDebuff"      "1"
				"IsPurgable"    "1"

				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_loss"
					"MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS" "%resist_loss" 
				}
			}

			"modifier_void_curse_galaxy_debuff"
			{
				"IsDebuff"			"1"
				"IsPurgable"    	"1"
				"Duration"			"6.0"
			
				"OnTakeDamage"
				// "%attack_damage" is set to the damage value after mitigation
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/enigma.lua"
						"Function"		"HealLastHitter"
						"Target"			"TARGET"
					}
				}
			}
		}
	}

	"special_bonus_unique_gravity_lord_1"
	{
		"BaseClass"                 "special_bonus_undefined"
		"AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel"            "1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"10" //increases tick damage by 10
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"value1"				"4.0" //increases modifier duration by 4.0 seconds
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"value2"				"2" //change damage type. valid damage_type values for this talant are as follows:
				//DAMAGE_TYPE_PHYSICAL--1
				//DAMAGE_TYPE_MAGICAL---2	
				//DAMAGE_TYPE_PURE------4
			}
		}
	}

	"gravity_well"
	{
		"BaseClass"                 "ability_datadriven"
		"AbilityTextureName"      "enigma_midnight_pulse"
		"AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"

		"AoERadius"           "300 350 400 450"
		"AbilityCooldown"       "35.0"
		"AbilityManaCost"       "160 200 240 280"
		"AbilityCastRange"        "700"
		"AbilityCastPoint"        "0.1"
		"AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_3"

		"MaxLevel"            "4"

		"precache"
		{
			"particle"    "particles/units/heroes/hero_enigma/enigma_midnight_pulse.vpcf"
			"soundfile"   "sounds/weapons/hero/enigma/midnight_pulse.vsnd"
		}

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"damage"			"10 20 30 40"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"duration"			"10.0"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"attack_slow"		"-3 -5 -7 -9"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"move_slow"			"-2 -3 -4 -5"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"debuff_duration"	"6.0"
			}
			"06"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"			"300 350 400 450"
			}
			"07"
			{
				"var_type"			"FIELD_FLOAT"
				"think_interval"	"2.0"
			}
		}

		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/enigma.lua"
				"Function"		"GalaxyManaCostReduction"
			}

			"RunScript"
			{
				"ScriptFile"  "heroes/enigma.lua"
				"Function"    "GravityWellThinker"
				"Target"    "POINT"
				"modifier"  "modifier_gravity_well_slow"
			}
		}

		"Modifiers"
		{
			"modifier_gravity_well_particle"
			{
				"IsHidden"      "1"

				"OnCreated"
				{
					"FireSound"
					{
						"EffectName"  "Hero_Enigma.Midnight_Pulse"
						"Target"    "TARGET"
					}

					"AttachEffect"
					{
						"EffectName"    "particles/units/heroes/hero_enigma/enigma_midnight_pulse.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"      "TARGET"

						"ControlPoints"
						{
							"00" "0 0 0"
							"01" "%radius %radius %radius"
						}
					}
				}
			}

			"modifier_gravity_well_slow"
			{
				"IsDebuff"      "1"
				"IsPurgable"    "1"        

				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%attack_slow"
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%move_slow" 
				}
			}
		}
	}

	
	"special_bonus_unique_gravity_lord_2"
	{
		"BaseClass"                 "special_bonus_undefined"
		"AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel"            "1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"5" //increase gravity_well damage by value% per slow stack
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"value1"				"4.0" //increase gravity_well duration by value
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"value2"				"1.0" //increase gravity_well tick rate to value
			}
		}
	}

	"gravity_bolt"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"vengefulspirit_magic_missile"
		"MaxLevel" 						"4"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"

		"AbilityCastRange"				"500"
		"AbilityCastPoint"				"0.3"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
		"AbilityCooldown"				"7.0 6.0 5.0 4.0"
		"AbilityManaCost"				"100 110 120 130"
		"AbilityDamage"				"15 20 25 30"

		"precache"
		{
			"particle"			"particles/units/heroes/hero_vengeful/vengeful_magic_missle.vpcf"
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_vengefulspirit.vsndevts"
		}

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"int_to_damage"	"8 18 28 38" //%
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"self_heal"			"5 10 15 20"
			}
		}

		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_VengefulSpirit.MagicMissile"
				"Target" 		"CASTER"
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/enigma.lua"
				"Function"		"GravityBoltCooldown"
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/enigma.lua"
				"Function"		"GravityBoltManaCost"
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/enigma.lua"
				"Function"		"GalaxyManaCostReduction"
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/enigma.lua"
				"Function"		"GravityBoltModifier"
				"modifier"		"modifier_gravity_bolt_talent_bonus"
			}
			"TrackingProjectile"
			{
				"Target"           	"TARGET"
				"EffectName"		"particles/units/heroes/hero_vengeful/vengeful_magic_missle.vpcf"
				"Dodgeable"			"1"
				"ProvidesVision"	"0"
				"MoveSpeed"        	"1250"
				"SourceAttachment"	"DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
			}
		}

		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"1"

			"FireSound"
			{
				"EffectName"	"Hero_VengefulSpirit.MagicMissileImpact"
				"Target" 		"TARGET"
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/enigma.lua"
				"Function"		"GravityBoltHitUnit"
			}
		}

		"Modifiers"
		{
			"modifier_gravity_bolt_talent_bonus"
			{
				"Duration"	 "8.0"
				"IsPurgable" "1"
				"Attributes"		"MODIFIER_ATTRIBUTE_MULTIPLE"

				"Properties"
				{
					"MODIFIER_PROPERTY_STATS_INTELLECT_BONUS" "8"
				}
			}
		}
	}

	"special_bonus_unique_gravity_lord_3"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"12" //increase gravity_bolt int bonus damage by 12%
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"value1"				"10" //increase gravity_bolt healing by 10%
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"value2"				"2" //increase gravity_bolt mana cost by 2%
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"value3"				"2" //decrease gravity_bolt cooldown by 2 seconds
			}
		}
	}

	// if galaxy then void_curse gains a new modifier that heals whoever kills the affected unit, unless enigma last hits it.
	// if galaxy then gravity_well gains damage increase, radius increase, and restores mana to allies but not enigma
	"galaxy"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"galaxy"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"4"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"cd_reduction"			"3 5 7 9" //%
			}
			"02"
			{
				"var_type"				 "FIELD_FLOAT"
				"mana_cost_reduction" "40 60 80 100"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"vc_heal"				"5 6 7 8" //% max
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"gw_radius"				"25 50 75 100"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"gw_int_to_damage"	"6 10 14 18" //%
			}
			"06"
			{
				"var_type"				  "FIELD_INTEGER"
				"gw_ally_mana_restore" "1 2 3 4" //% max
			}
		}

		"Modifiers"
		{
			"modifier_galaxy_cooldown_reduction"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				
				"ThinkInterval"  "0.2"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/enigma.lua"
						"Function"		"DisableGalaxyPassive"
						"modifier"		"modifier_galaxy_cooldown_reduction"
						"temp_modifier""modifier_galaxy_passives_dummy"
					}
				}

				"Properties"
				{
					"MODIFIER_PROPERTY_COOLDOWN_PERCENTAGE"	"1"
				}
			}

			"modifier_galaxy_passives_dummy"
			{
				"IsHidden"			"1"

				"ThinkInterval"  "0.2"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/enigma.lua"
						"Function"		"EnableGalaxyPassive"
						"modifier"		"modifier_galaxy_cooldown_reduction"
						"temp_modifier""modifier_galaxy_passives_dummy"
					}
				}	
			}
		}
	}

	"special_bonus_unique_gravity_lord_4"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityType"					"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"3" //increase cooldown reduction for all of casters spells by value
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"value1"				"20" //all of casters spells cost less mana
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"value2"				"2" //increase void_curse heal by 2%
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"value3"				"7" //increase gravity_well int to damage by 7%
			}
			"05"
			{
				"var_type"			"FIELD_INTEGER"
				"value4"				"50" //gravity_well radius bonus
			}
		}
	}

//create a black hole that will last for a set duration, rather than channel time.
//black star will stun units for a duration based on casters INT
	"black_star"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"enigma_black_hole"
		"AbilityType"					"DOTA_ABILITY_TYPE_ULTIMATE"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"

		"AoERadius"							"%radius"
		"AbilityCooldown"				"200 170 140"
		"AbilityManaCost"				"500 700 900"
		"AbilityDamage"					"60 80 100"
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"1.0"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_4"
		"MaxLevel" 						"3"

		"precache"
		{
			"particle" "particles/units/heroes/hero_phoenix/phoenix_supernova_reborn.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_phoenix.vsndevts"
		}

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"int_to_damage"		"50 75 100" //%
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"stun_duration"		"1.0 1.4 1.8"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"			"400 500 600"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"vc_bonus_damage"	"15 25 35" //%
			}
		}

		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/enigma.lua"
				"Function"		"BlackStar"
				"Target"			"POINT"
			}

			"RunScript"
			{
				"ScriptFile"	"heroes/enigma.lua"
				"Function"		"BlackStarCooldown"
			}
		}

		"Modifiers"
		{
			"modifier_black_star_vc_bonus_damage"
			{
				"IsHidden"			"1"
			}

			"modifier_black_star_dummy"
			{
				"IsHidden"			"0"
			
				"States"
				{
					"MODIFIER_STATE_INVULNERABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_OUT_OF_GAME"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}

	//apply void_curse to every unit hit by black_star
	"special_bonus_unique_gravity_lord_5"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityType"					"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"value"				"0.01" //increase black_star stun duration for every int caster has
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"value1"				"20.0" //decrease black_star cooldown
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"value2"				"20" //increase black_star base damage
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"value3"				"100" //increase black_star damage by an additional 100% of caster's int
			}
		}
	}

//BROKEN FIXME TY VOLVO
//since i now have to use special_bonus_undefined because ability_datadriven doesnt let me level the talent, i have to code
// this talent into a modifier that is applied by OnIntervalThink. ill probably do it in lua for practice
	"special_bonus_mage_defensive"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityType"					"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"4" //armor
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"value2"				"10" //magic resist
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"value3"				"100" //health bonus
			}
		}

		"Modifiers"
		{
			"modifier_mage_defensive"
			{
				"Passive"			"1"
				"IsHidden"			"1"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%value"
					"MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS" "%value1" 
					"MODIFIER_PROPERTY_HEALTH_BONUS" "%value2"
				}
			}
		}
	}

//BROKEN FIXME TY VOLVO
	"special_bonus_mage_offensive"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityType"					"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"8" //spell amp
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"value1"				"4" //mana regen
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"value2"				"10" //intellect		
			}
		}

		"Modifiers"
		{
			"modifier_mage_offensive"
			{
				"Passive"			"1"
				"IsHidden"			"1"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_SPELL_AMPLIFY_PERCENTAGE" "%value"
					"MODIFIER_PROPERTY_MANA_REGEN_CONSTANT" "%value1" 
					"MODIFIER_PROPERTY_STATS_INTELLECT_BONUS" "%value2"
				}
			}
		}
	}

	//FIXME -- int to amp
	"gravity_lord"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"enigma_malefice"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"4"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"mana_bonus_tooltip" "4 8 12 16" //%
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"mana_regen_tooltip" "3 4 5 6"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"spell_amp_tooltip"	"4 8 12 16" //%
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"cast_range_bonus"	"150 200 250 300"
			}
			"05"
			{
				"var_type"			"FIELD_INTEGER"//FIX ME: HAS NOT BEEN IMPLEMENTED YET
				"int_to_amp"		"5" //10 int = 1 spell amp normally, this halves that value
			}
		}

		"Modifiers"
		{
			"modifier_gravity_lord_cast_range_bonus"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				"IsDebuff"			"0"
			
				"Properties"
				{
					"MODIFIER_PROPERTY_CAST_RANGE_BONUS_STACKING" "%cast_range_bonus"
				}
			}

			"modifier_gravity_lord_mana_bonus"
			{
				"Passive"			"1"
				"IsHidden"			"1"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_MANA_BONUS" "1"
				}

				"ThinkInterval"  "1.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/enigma.lua"
						"Function"		"GravityLordManaBonus"
						"modifier"		"modifier_gravity_lord_mana_bonus"
					}
				}
			}

			"modifier_gravity_lord_amp"
			{
				"Passive"			"1"
				"IsHidden"			"1"

				"Properties"
				{
					"MODIFIER_PROPERTY_SPELL_AMPLIFY_PERCENTAGE" "1"
				}

				"ThinkInterval" "1.5"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/enigma.lua"
						"Function"		"HandleGravityLordBuffs"
						"modifier"	"modifier_gravity_lord_amp"
						"check"		"modifier_gravity_lord_amp"
					}
				}
			}

			"modifier_gravity_lord_regen"
			{
				"Passive"			"1"
				"IsHidden"			"1"

				"Properties"
				{
					"MODIFIER_PROPERTY_MANA_REGEN_CONSTANT" "1"
				}

				"ThinkInterval" "1.5"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/enigma.lua"
						"Function"		"HandleGravityLordBuffs"
						"modifier"	"modifier_gravity_lord_regen"
					}
				}
			}
 
			"modifier_gravity_lord_void_fissure"
			{
				"IsDebuff"			"1"
				"Duration"			"8"

				"Properties"
				{
					"MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE" "10"
				}
			}
		}
	}

	// FIXME -- value1 -- void fissure
	"special_bonus_unique_gravity_lord_6"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityType"						"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"2" //double all bonuses
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"value1"			"10" //new stacking modifier applied by all of enigmas spells that increases damage taken by value
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"value2"			"8" //modifier duration
			}
		}
	}

	//Borrows heavily from IMBA meat hook
	"glory_hook"
	{
		"BaseClass"						"ability_datadriven"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_YES"
		"AbilityTextureName"			"pudge_meat_hook"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitTargetFlag"			"DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES | DOTA_UNIT_TARGET_FLAG_INVULNERABLE"

		"AoERadius"						"100"
		"AbilityCastRange"				"1000 1100 1200 1300"
		"AbilityCastPoint"				"0.3 0.3 0.3 0.3"
		"AbilityCooldown"				"14 13 12 11"
		"AbilityManaCost"				"110 120 130 140"
		"FightRecapLevel"				"1"
		"MaxLevel" 						"4"

		// Precache
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_pudge.vsndevts"
			"particle"			"particles/units/heroes/hero_pudge/pudge_meathook_chain.vpcf"
			"particle"			"particles/units/heroes/hero_pudge/pudge_meathook_impact.vpcf"
			"particle"			"particles/units/heroes/hero_pudge/pudge_meathook.vpcf"
			"particle"			"particles/units/heroes/hero_dazzle/dazzle_armor_enemy.vpcf"
		}

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"base_speed"		"1600"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"hook_width"		"100"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"vision_radius"		"500"
			}
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"vision_duration"	"4.0"
			}
			"05"
			{
				"var_type"			"FIELD_INTEGER"
				"base_range"		"1000 1100 1200 1300"
			}
			"06"
			{
				"var_type"			"FIELD_INTEGER"
				"base_damage"		"15 25 35 45"
			}
			"07"
			{
				"var_type"			"FIELD_INTEGER"
				"max_units"			"3 5 7 9"
			}
			"08"
			{
				"var_type"			"FIELD_INTEGER"
				"armor_reduction" "3 5 7 9"
			}
		}

		"OnAbilityPhaseStart"
		{	
			"ApplyModifier"
			{
				"ModifierName"			"modifier_glory_hook_cast_check"
				"Target" 				"CASTER"
			}
			"RunScript"
			{
				"ScriptFile"			"heroes/butcher.lua"
				"Function"				"HookCast"
				"Target"				"POINT"
			}
		}

		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"			"heroes/butcher.lua"
				"Function"				"GloryHook"
				"Target"				"POINT"
			}
		}

		"Modifiers"
		{
			"modifier_glory_hook_armor_reduction"
			{
				"IsDebuff"			"1"
				"Duration"			"8.0"

				"EffectName"		"particles/units/heroes/hero_dazzle/dazzle_armor_enemy.vpcf"
				"EffectAttachType"	"follow_overhead"
			
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_reduction"
				}
			}

			"modifier_glory_hook_caster"
			{
				"IsHidden"					"1"
				"IsDebuff"					"1"

				"OverrideAnimation"     	"ACT_DOTA_OVERRIDE_ABILITY_1"

				"States"
				{
					"MODIFIER_STATE_ROOTED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}

			"modifier_glory_hook_target_enemy"
			{
				"IsDebuff"					"1"

				"OverrideAnimation"			"ACT_DOTA_FLAIL"

				"States"
				{
					"MODIFIER_STATE_STUNNED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}

			"modifier_glory_hook_target_ally"
			{
				"IsBuff"					"1"

				"OverrideAnimation"			"ACT_DOTA_FLAIL"

				"States"
				{
					"MODIFIER_STATE_ROOTED"			"MODIFIER_STATE_VALUE_ENABLED"
				}
			}

			"modifier_glory_hook_dummy"
			{
				"IsHidden"			"1"

				"States"
				{
					"MODIFIER_STATE_INVULNERABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_OUT_OF_GAME"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}

			"modifier_glory_hook_cast_check"
			{
				"IsHidden"				"1"

				"Attributes"			"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

				"OnOrder"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/butcher.lua"
						"Function"		"HookCastCheck"
					}
				}
			}
		}
	}

	"rotting_flesh"
	{
		"BaseClass"             		"ability_lua"
		"AbilityTextureName"			"pudge_rot"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityCastPoint"				"0 0 0 0"
		"MaxLevel" 						"4"

		"ScriptFile"			"heroes/butcher_lua.lua"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"rot_damage"		"15"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"rot_slow"			"-10 -15 -20 -25"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"resist_reduction"	"-4 -8 -12 -16"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"rot_radius"		"200"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"rot_tick"			"0.2"
			}
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"health_to_damage"	"1" //%
			}
		}
	}

	"fresh_meat"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"earthshaker_enchant_totem"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"
		"AbilityCooldown"				"15.0"
		"AbilityManaCost"				"90 120 150 180"
		"AbilityCastPoint"				"0.45"
		"AbilityCastAnimation"			"ACT_DOTA_VICTORY"
		"MaxLevel" 						"4"

		"precache"
		{
			"soundfile" 	"sounds/weapons/hero/earthshaker/enchant.vsnd"
			"soundfile" 	"sounds/weapons/hero/earthshaker/enchant_attack.vsnd"
		}

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"hp_to_damage"		"5 6 7 8" //%
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"duration"			"5.0"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"lifesteal"			"5 10 15 20" //%
			}
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"disarm_duration"	"1.0 1.2 1.4 1.6"
			}
			"05"
			{
				"var_type"			"FIELD_INTEGER"
				"self_damage_increase" "20 25 30 35" //%
			}
		}

		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_EarthShaker.Totem"
				"Target"		"CASTER"
			}
			"ApplyModifier"
			{
				"ModifierName"	"modifier_butcher_fresh_meat"
				"Target" 		"CASTER"
			}
			"ApplyModifier"
			{
				"ModifierName"	"modifier_butcher_fresh_meat_dummy"
				"Target" 		"CASTER"
			}
			"ApplyModifier"
			{
				"ModifierName"	"modifier_butcher_fresh_meat_damage"
				"Target" 		"CASTER"
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/butcher.lua"
				"Function"		"FreshMeatModifier"
				"modifier"		"modifier_butcher_fresh_meat_damage"
				"modifier_self"	"modifier_butcher_fresh_meat"
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/butcher.lua"
				"Function"		"FreshMeatCooldown"
			}
		}

		"Modifiers"
		{
			"modifier_butcher_fresh_meat_dummy"
			{
				"IsDebuff"			"0"
				"Duration"		"%duration"
			}

			"modifier_butcher_fresh_meat"
			{
				"IsHidden"			"1"
				"Duration"		"%duration"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE"	"1"
				}
			}

			"modifier_butcher_fresh_meat_damage"
			{
				"IsHidden"			"1"
				"Duration"		"%duration"
			
				"OnAttackLanded"
				// "%attack_damage" is set to the damage value before mitigation
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/butcher.lua"
						"Function"		"FreshMeat"
						"Target"		"TARGET"
						"attack_damage"	"%attack_damage"
						"modifier_disarm" "modifier_butcher_fresh_meat_disarm"
					}
					"RemoveModifier"
					{
						"ModifierName"	"modifier_butcher_fresh_meat_damage"
						"Target" 		"CASTER"
					}
					"RemoveModifier"
					{
						"ModifierName"	"modifier_butcher_fresh_meat"
						"Target" 		"CASTER"
					}
					"RemoveModifier"
					{
						"ModifierName"	"modifier_butcher_fresh_meat_dummy"
						"Target" 		"CASTER"
					}
				}


				"Properties"
				{
					"MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"	"1"
				}
			}

			"modifier_butcher_fresh_meat_disarm"
			{
				"IsDebuff"			"1"
			
				"EffectName"		"particles/generic_gameplay/generic_disarm.vpcf"
				"EffectAttachType"	"follow_origin"
			
				"States"
				{
					"MODIFIER_STATE_DISARMED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}

	//need to add sounds and particles. 
	"dismember"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"pudge_dismember"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_COURIER"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_YES"
		"AbilityType"					"DOTA_ABILITY_TYPE_ULTIMATE"

		"AbilityChannelTime"			"%creep_duration"
		"AbilityCastRange"				"160"
		"AbilityCastPoint"				"0.3 0.3 0.3"
		"AbilityCooldown"				"30.0 30.0 30.0"
		"AbilityManaCost"				"100 130 170"
		"AbilityCastAnimation"			"ACT_DOTA_CHANNEL_ABILITY_4"

		"MaxLevel" 						"3"

		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_pudge.vsndevts"
			"particle"			"particles/units/heroes/hero_pudge/pudge_dismember.vpcf"
		}

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"dismember_damage"		"75 125 175" //base damage
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"strength_damage_scepter" "30" //%
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"creep_duration"		"6.0"
			}
			"04"
			{
				"var_type"				"FIELD_FLOAT"
				"tick_rate"				"1.01"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"meat_heal"				"80" //base heal
			}
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"death_drop"			"3" //how many meat to drop if unit dies
			}
			"07"
			{
				"var_type"				"FIELD_INTEGER"
				"str_to_meat_heal"		"10" //%
			}
			"08"
			{
				"var_type"				"FIELD_INTEGER"
				"str_to_meat_heal_scepter" "30" //%
			}
		}

		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Pudge.Dismember"
				"Target" 		"TARGET"
			}

			"RunScript"
			{
				"ScriptFile"	"heroes/butcher.lua"
				"Function"		"DismemberStart"
				"modifier"		"modifier_butcher_dismember_target"
			}
		}

		//completes or is interrupted
		"OnChannelFinish"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/butcher.lua"
				"Function"		"DismemberEnd"
				"modifier"		"modifier_butcher_dismember_target"
			}
		}

		"Modifiers"
		{
			"modifier_butcher_dismember_target"
			{
				"IsHidden"			"0"
				"IsDebuff"			"1"

				"ThinkInterval"  "%tick_rate"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/butcher.lua"
						"Function"		"DismemberDropMeat"
						"meatToDrop"	"%death_drop"
					}
				}

				"OnDeath"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/butcher.lua"
						"Function"		"DismemberDropMeat"
						"meatToDrop"	"%death_drop"
					}
					//if channel continues when target dies then add a short function for caster:stop() here
				}
		
				"States"
				{
					"MODIFIER_STATE_STUNNED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}

			"modifier_butcher_dismember_meat_thinker"
			{
				"IsHidden"	"1"

				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/butcher.lua"
						"Function"		"DismemberMeatDisplacement"
					}

					"RunScript"
					{
						"ScriptFile"	"heroes/butcher.lua"
						"Function"		"DismemberMeatHeal"
					}
				}
			}

			"modifier_butcher_dismember_meat_dummy"
			{
				"IsHidden"			"1"
			}

			"modifier_butcher_dismember_channeling"
			{
				"IsHidden"			"1"
			}
		}
	}

	"special_bonus_unique_butcher_1"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityType"					"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"0" 
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"value1"			"0" 
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"value2"			"0" 
			}
		}
	}

	"special_bonus_unique_butcher_2"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityType"					"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"0" 
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"value1"			"0" 
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"value2"			"0" 
			}
		}
	}

	"special_bonus_unique_butcher_3"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityType"					"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"value"				"0.4" // increase fresh_meat disarm duration
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"value1"			"4" // % increase fresh_meat hp_to_damage
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"value2"			"10" // % increase fresh_meat lifesteal 
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"value3"			"15" // decrease fresh_meat self damage debuff 
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"value4"			"3.0" // decrease fresh_meat cooldown
			}
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"value6"			"100.0" // 100% dmg cleave attack
			}
		}
	}

	"special_bonus_unique_butcher_4"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityType"					"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"0" 
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"value1"			"0" 
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"value2"			"0" 
			}
		}
	}

	"special_bonus_unique_butcher_5"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityType"					"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"0" 
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"value1"			"0" 
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"value2"			"0" 
			}
		}
	}

	"special_bonus_unique_butcher_6"
	{
		"BaseClass"             		"special_bonus_undefined"
		"AbilityType"					"DOTA_ABILITY_TYPE_ATTRIBUTES"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel" 						"1"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"value"				"0" 
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"value1"			"40"//% stronger damage 
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"value2"			"40"//% stronger heal 
			}
		}
	}

	"couriers_reign"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"ability_name"
		"MaxLevel" 						"4"

		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_COURIER"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"

		"AoERadius"	"%radius"

		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_shadowshaman.vsndevts"
			"particle"			"particles/units/heroes/hero_shadowshaman/shadowshaman_voodoo.vpcf"
			"model"				"models/props_gameplay/chicken.vmdl"
		}

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"radius"			"900"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"duration"			"3.0 4.0 5.0 6.0"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"damage"			"100 150 200 275"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"courier_speed"		"350"
			}
			"05"
			{
				"var_type"			"FIELD_INTEGER"
				"hero_min_health"	"600 700 800 900"
			}
			"06"
			{
				"var_type"			"FIELD_INTEGER"
				"hero_max_health"	"850 1000 1250 1400"
			}
			"07"
			{
				"var_type"			"FIELD_FLOAT"
				"hero_min_mana"		"200 340 460 610"
			}
			"08"
			{
				"var_type"			"FIELD_FLOAT"
				"hero_max_mana"		"300 470 610 900"
			}
			"09"
			{
				"var_type"			"FIELD_FLOAT"
				"hero_min_armor"	"2 5 8 14"
			}
			"10"
			{
				"var_type"			"FIELD_FLOAT"
				"hero_max_armor"	"4 7 11 16"
			}
		}

		"OnSpellStart"
		{
			"ActOnTargets"
			{
				"Target"
				{
					"Center"  	"POINT"
					"Radius" 	"%radius"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_COURIER"
				}
			
				"Action"    
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/couriers_reign.lua"
						"Function"		"Transmogrify"
						"Target"		"TARGET"
						"particle"		"particles/units/heroes/hero_shadowshaman/shadowshaman_voodoo.vpcf"
						"soundName"			"Hero_ShadowShaman.Hex.Target"
					}
				}
			}
		}
	}

	"infernal_summon_bash"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"ability_name"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PURE"
		"MaxLevel" 						""

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"bash_damage"		"25 35 45"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"bash_aoe"			"250 275 325"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"bash_duration"		"0.2 0.3 0.4"
			}
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"bash_chance"		"30 40 50"
			}
		}

		"Modifiers"
		{
			"modifier_infernal_summon_bash"
			{
				"Passive"			"1"
				"IsHidden"			"1"
		
				"OnAttackLanded"
				// "%attack_damage" is set to the damage value before mitigation
				{
					"Random"
					{
						"Chance"			"%bash_chance"
						"OnSuccess"
						{
							"ActOnTargets"
							{
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
									"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
								}

								"Action"    
								{
									"Damage"
									{
										"Target"		"TARGET"
										"Type"			"DAMAGE_TYPE_PURE"
										"Damage"		"%bash_damage"
									}

									"Stun"
									{
										"Duration"   "%bash_duration"
										"Target" 	 "TARGET"
									}
								}
							}
						}
					}
				}
			}
		}
	}

	"infernal_summon_slam"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"ability_name"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"MaxLevel" 						"3"

		"AbilityManaCost"				"100"
		"AbilityCooldown"				"18.0"
		"AbilityCastRange"				"%radius"
		"AbilityCastPoint"				"0.3"
		"AbilityCastAnimation"			"ACT_DOTA_ATTACK"


		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"			"250 275 300"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"knockback"			"150"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"knockback_dur"		"1.25"
			}
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"stun_duration"		"1.0"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"life_to_damage"	"1" //% of infernal life
			}
			"06"
			{
				"var_type"			"FIELD_INTEGER"
				"damage"			"20 30 40"
			}
		}

		"OnSpellStart"
		{
			"ActOnTargets"
			{
				"Target"
				{
					"Center"  	"CASTER"
					"Radius" 	"%radius"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
			
				"Action"    
				{
					"Knockback"
					{
						"Target"            "TARGET"
						"Center" 	        "CASTER"
						"Distance"	        "%knockback"
						"Duration"	        "%knockback_dur"
						"Height"	        "%knockback"
						"IsFixedDistance"	"1"
						"ShouldStun"        "1"
					}
					"DelayedAction"
					{
						"Delay"     "%knockback_dur"
						"Action"    
						{
							"RunScript"
							{
								"ScriptFile"	"items/item_infernal_summon.lua"
								"Function"		"SlamDamage"
								"Target"		"TARGET"
							}
						}
					}
				}
			}
		}
	}

	//attack 3/4/5 times very quickly, pulling enemies in a radius closer to the target each attack
	//maybe alternate between act_attack and act_attack2
	"infernal_summon_rapid_fists"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"ability_name"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"MaxLevel" 						"3"

		"AbilityCastRange"				"150"
		"AbilityCastPoint"				"0.1"
		"AbilityCastAnimation"			"ACT_DOTA_ATTACK2"
		"AbilityCooldown"				"16"
		"AbilityManaCost"				"120"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"num_atk"			"3 4 5"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"time_between_atk"	"0.15"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"radius"			"400"
			}
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"damage"			"40"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"life_to_dmg"		"1" //% of infernal life
			}
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"main_target_dmg"	"100" //% takes double damage
			}
			"07"
			{
				"var_type"			"FIELD_FLOAT"
				"max_pull" 			"0.2" 
			}
			"07"
			{
				"var_type"			"FIELD_FLOAT"
				"min_pull" 			"0.1" 
			}
		}

		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"items/item_infernal_summon.lua"
				"Function"		"InfernalFist"
				"Target"		"TARGET"
				"modifier"		"modifier_infernal_summon_fists"
			}
		}

		"Modifiers"
		{
			"modifier_infernal_summon_fists"
			{
				"IsDebuff"			"1"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE" "%main_target_dmg"
				}
			}
		}
	}

	"infernal_summon_stats"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"ability_name"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
		"MaxLevel" 						"3"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"int_to_life"		"55 85 115"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"life_to_life"		"0.4 0.7 1.0"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"int_to_mana"		"45 65 85"
			}
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"int_to_damage"		"15 25 35"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"int_to_atkspd"		"10 15 20"
			}
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"armor"				"2 4 6"
			}
			"07"
			{
				"var_type"			"FIELD_FLOAT"
				"base_attack_time"	"1.8 1.7 1.6"
			}
		}

		"Modifiers"
		{
			"modifier_infernal_summon_stat_life"
			{
				"Passive"			"1"
				"IsHidden"			"1"

				"ThinkInterval"  "0.03"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"items/item_infernal_summon.lua"
						"Function"		"UpdateStats"
						"modifier_life"		"modifier_infernal_summon_stat_life"
						"modifier_mana"		"modifier_infernal_summon_stat_mana"
						"modifier_damage"	"modifier_infernal_summon_stat_damage"
						"modifier_speed"	"modifier_infernal_summon_stat_attackspeed"
					}
				}

				"Properties"
				{
					"MODIFIER_PROPERTY_HEALTH_BONUS" "1"
				}
			}

			"modifier_infernal_summon_stat_mana"
			{
				"Passive"			"1"
				"IsHidden"			"1"
			
				"Properties"
				{
					"MODIFIER_PROPERTY_MANA_BONUS" "1"
				}
			}

			"modifier_infernal_summon_stat_damage"
			{
				"Passive"			"1"
				"IsHidden"			"1"
			
				"Properties"
				{
					"MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE" "1"
				}
			}

			"modifier_infernal_summon_stat_attackspeed"
			{
				"Passive"			"1"
				"IsHidden"			"1"
			
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "1"
				}
			}

			"modifier_infernal_summon_stats_armor"
			{
				"Passive"			"1"
				"IsHidden"			"1"
			
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor"
				}
			}

			"modifier_infernal_summon_bat"
			{
				"Passive"			"1"
				"IsHidden"			"1"

				"Properties"
				{
					"MODIFIER_PROPERTY_BASE_ATTACK_TIME_CONSTANT" "%base_attack_time"	
				}
			}
		}
	}
}
